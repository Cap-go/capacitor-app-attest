<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>App Attest Example</title>
    <meta
      name="viewport"
      content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no" />
    <style>
      :root {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        color-scheme: dark;
      }
      body {
        margin: 0;
        padding: 1.5rem;
        background: #0f172a;
        color: #e2e8f0;
      }
      main {
        max-width: 860px;
        margin: 0 auto;
        display: grid;
        gap: 1rem;
      }
      section {
        background: rgba(30, 41, 59, 0.75);
        border-radius: 14px;
        padding: 1rem;
      }
      h1,
      h2,
      p {
        margin: 0;
      }
      .lead {
        color: #cbd5e1;
      }
      .grid {
        display: grid;
        gap: 0.75rem;
      }
      .field {
        display: grid;
        gap: 0.35rem;
      }
      label {
        font-weight: 600;
      }
      input,
      button {
        border-radius: 10px;
        border: 1px solid rgba(148, 163, 184, 0.4);
        background: rgba(15, 23, 42, 0.7);
        color: inherit;
        font-size: 1rem;
        padding: 0.65rem 0.8rem;
      }
      button {
        cursor: pointer;
        background: linear-gradient(120deg, #22d3ee, #6366f1);
        border: none;
        color: #0f172a;
        font-weight: 700;
      }
      .actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
        gap: 0.65rem;
      }
      pre {
        margin: 0;
        border-radius: 10px;
        background: rgba(15, 23, 42, 0.85);
        border: 1px solid rgba(148, 163, 184, 0.3);
        padding: 0.9rem;
        min-height: 200px;
        overflow: auto;
      }
      code {
        font-family: 'JetBrains Mono', Menlo, monospace;
      }
    </style>
  </head>
  <body>
    <main>
      <section class="grid">
        <h1>@capgo/capacitor-app-attest</h1>
        <p class="lead">
          Try App Attest on iOS and Play Integrity on Android from this test surface.
        </p>
      </section>

      <section class="grid">
        <h2>Inputs</h2>
        <div class="field">
          <label for="keyId">keyId</label>
          <input id="keyId" type="text" placeholder="Generated key id" />
        </div>
        <div class="field">
          <label for="challenge">challenge (for createAttestation)</label>
          <input id="challenge" type="text" value="register-device-challenge" />
        </div>
        <div class="field">
          <label for="payload">payload (for createAssertion)</label>
          <input id="payload" type="text" value="signed-request-body" />
        </div>
        <div class="field">
          <label for="cloudProjectNumber">cloudProjectNumber (Android)</label>
          <input id="cloudProjectNumber" type="text" placeholder="123456789012" />
        </div>
      </section>

      <section class="grid">
        <h2>Actions</h2>
        <div class="actions">
          <button id="isSupported" type="button">isSupported</button>
          <button id="prepare" type="button">prepare</button>
          <button id="createAttestation" type="button">createAttestation</button>
          <button id="createAssertion" type="button">createAssertion</button>
          <button id="storeKey" type="button">storeKeyId</button>
          <button id="getStoredKey" type="button">getStoredKeyId</button>
          <button id="clearStoredKey" type="button">clearStoredKeyId</button>
        </div>
      </section>

      <section class="grid">
        <h2>Latest Result</h2>
        <pre id="output"><code>No action executed yet.</code></pre>
      </section>
    </main>

    <script src="./js/example.js" type="module"></script>
  </body>
</html>
